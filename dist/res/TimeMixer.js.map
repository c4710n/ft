{"version":3,"sources":["../../src/res/TimeMixer.js"],"names":["Tween","TimeMixer","timeout","progress","to","onProgress","add","f","onUpdate","onComplete","start"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,KAAT,QAAsB,cAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACMC,S;;;;;AACJ;AACF;AACA;AACE,qBAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,8BAAM;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAN;;AACA,UAAKC,EAAL,CAAQ;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KAAR,EAA2BD,OAA3B;;AAEA,QAAI,CAAC,MAAKG,UAAV,EAAsB;AACpB,YAAKA,UAAL,GAAkB,EAAlB;AACD;;AACD,UAAKA,UAAL,CAAgBC,GAAhB,GAAsB,UAACC,CAAD;AAAA,aAAO,MAAKC,QAAL,CAAcD,CAAd,CAAP;AAAA,KAAtB;;AAEA,QAAI,CAAC,MAAKE,UAAV,EAAsB;AACpB,YAAKA,UAAL,GAAkB,EAAlB;AACD;;AACD,UAAKA,UAAL,CAAgBH,GAAhB,GAAsB,UAACC,CAAD;AAAA,aAAO,MAAKE,UAAL,CAAgBF,CAAhB,CAAP;AAAA,KAAtB;;AAZmB;AAapB;;;;WAED,gBAAO;AACL,WAAKG,KAAL;AACD;;;;EArBqBV,K;;AAwBxB,eAAeC,SAAf","sourcesContent":["import { Tween } from '../animation'\n\n/**\n * Fake progress emitter based on timeout.\n *\n * @example\n * const tm = new TimeMixer(3000)\n *\n * // listen on progress event\n * tm.onProgress.add(({ progress: value }) => {\n *   console.log(value)\n * })\n *\n * // listen on complete event\n * tm.onComplete.add(({ progress: value }) => {\n *   console.log(value)\n * })\n *\n * // start timer\n * timer.load()\n */\nclass TimeMixer extends Tween {\n  /**\n   * @param {number} timeout timeout in milliseconds.\n   */\n  constructor(timeout) {\n    super({ progress: 0 })\n    this.to({ progress: 100 }, timeout)\n\n    if (!this.onProgress) {\n      this.onProgress = {}\n    }\n    this.onProgress.add = (f) => this.onUpdate(f)\n\n    if (!this.onComplete) {\n      this.onComplete = {}\n    }\n    this.onComplete.add = (f) => this.onComplete(f)\n  }\n\n  load() {\n    this.start()\n  }\n}\n\nexport default TimeMixer\n"],"file":"TimeMixer.js"}