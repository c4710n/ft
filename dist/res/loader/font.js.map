{"version":3,"sources":["../../../src/res/loader/font.js"],"names":["WebFont","generateFontFace","name","url","replace","fontLoader","resource","next","extensions","extension","includes","style","document","createElement","head","appendChild","styles","sheet","insertRule","config","timeout","Number","POSITIVE_INFINITY","custom","families","active","inactive","load"],"mappings":";;;;;;AAAA,OAAOA,OAAP,MAAoB,eAApB;;AAEA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgCC,GAAhC,EAAqC;AACnC,oDAEgBD,IAAI,CAACE,OAAL,CAAa,GAAb,EAAkB,EAAlB,CAFhB,+BAGYD,GAHZ;AAMD;AAED;AACA;AACA;;;AACA,SAASE,UAAT,CAAoBC,QAApB,EAA8BC,IAA9B,EAAoC;AAClC,MAAMC,UAAU,GAAG,CAAC,KAAD,CAAnB;AAEA,MAAQC,SAAR,GAAsBH,QAAtB,CAAQG,SAAR;;AACA,MAAID,UAAU,CAACE,QAAX,CAAoBD,SAApB,CAAJ,EAAoC;AAClC,QAAQP,IAAR,GAAsBI,QAAtB,CAAQJ,IAAR;AAAA,QAAcC,GAAd,GAAsBG,QAAtB,CAAcH,GAAd;AAEA,QAAMQ,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAd;AACAD,IAAAA,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,KAA1B;AACA,QAAMK,MAAM,GAAGf,gBAAgB,CAACC,IAAD,EAAOC,GAAP,CAA/B;AACAQ,IAAAA,KAAK,CAACM,KAAN,CAAYC,UAAZ,CAAuBF,MAAvB,EAA+B,CAA/B;AAEA,QAAMG,MAAM,GAAG,EAAf;AACAA,IAAAA,MAAM,CAACC,OAAP,GAAiBC,MAAM,CAACC,iBAAxB;AACAH,IAAAA,MAAM,CAACI,MAAP,GAAgB;AAAEC,MAAAA,QAAQ,EAAE,CAACtB,IAAD;AAAZ,KAAhB;AACAiB,IAAAA,MAAM,CAACM,MAAP,GAAgBlB,IAAhB;AACAY,IAAAA,MAAM,CAACO,QAAP,GAAkBnB,IAAlB;AAEAP,IAAAA,OAAO,CAAC2B,IAAR,CAAaR,MAAb;AACD,GAfD,MAeO;AACLZ,IAAAA,IAAI;AACL;AACF;;AAED,eAAeF,UAAf","sourcesContent":["import WebFont from 'webfontloader'\n\nfunction generateFontFace(name, url) {\n  return `\n@font-face {\n  font-family: \"${name.replace('.', '')}\";\n  src: url(\"${url}\");\n}\n`\n}\n\n/**\n * @ignore\n */\nfunction fontLoader(resource, next) {\n  const extensions = ['ttf']\n\n  const { extension } = resource\n  if (extensions.includes(extension)) {\n    const { name, url } = resource\n\n    const style = document.createElement('style')\n    document.head.appendChild(style)\n    const styles = generateFontFace(name, url)\n    style.sheet.insertRule(styles, 0)\n\n    const config = {}\n    config.timeout = Number.POSITIVE_INFINITY\n    config.custom = { families: [name] }\n    config.active = next\n    config.inactive = next\n\n    WebFont.load(config)\n  } else {\n    next()\n  }\n}\n\nexport default fontLoader\n"],"file":"font.js"}